dataset = {
    'children': [
{'Publisher':'505 Games','Games':22,'Sales':14.26},
{'Publisher':'5pb','Games':10,'Sales':0.29},
{'Publisher':'7G//AMES','Games':1,'Sales':0.01},
{'Publisher':'Abylight','Games':1,'Sales':0.08},
{'Publisher':'Ackkstudios','Games':1,'Sales':0.11},
{'Publisher':'Acquire','Games':3,'Sales':0.22},
{'Publisher':'Activision','Games':89,'Sales':63.39},
{'Publisher':'Aerosoft','Games':1,'Sales':0.01},
{'Publisher':'Alchemist','Games':10,'Sales':0.26},
{'Publisher':'Alternative Software','Games':1,'Sales':0.07},
{'Publisher':'Alvion','Games':1,'Sales':0.02},
{'Publisher':'Aqua Plus','Games':2,'Sales':0.06},
{'Publisher':'Arc System Works','Games':3,'Sales':0.1},
{'Publisher':'ArtDink','Games':1,'Sales':0.02},
{'Publisher':'ASCII Media Works','Games':3,'Sales':0.12},
{'Publisher':'Asgard','Games':3,'Sales':0.14},
{'Publisher':'Astragon','Games':3,'Sales':0.53},
{'Publisher':'Asylum Entertainment','Games':5,'Sales':0.52},
{'Publisher':'Atari','Games':11,'Sales':1.43},
{'Publisher':'Atlus','Games':4,'Sales':0.82},
{'Publisher':'Avanquest','Games':4,'Sales':0.77},
{'Publisher':'Bethesda Softworks','Games':3,'Sales':8.41},
{'Publisher':'Black Bean Games','Games':8,'Sales':1.2},
{'Publisher':'Broccoli','Games':1,'Sales':0.02},
{'Publisher':'Capcom','Games':22,'Sales':14.38},
{'Publisher':'Cave','Games':2,'Sales':0.07},
{'Publisher':'ChunSoft','Games':1,'Sales':0.04},
{'Publisher':'City Interactive','Games':5,'Sales':1.87},
{'Publisher':'Codemasters','Games':5,'Sales':2.64},
{'Publisher':'Comfort','Games':2,'Sales':0.03},
{'Publisher':'Compile Heart','Games':3,'Sales':0.26},
{'Publisher':'Conspiracy Entertainment','Games':4,'Sales':0.23},
{'Publisher':'Crave Entertainment','Games':7,'Sales':0.71},
{'Publisher':'Culture Brain','Games':1,'Sales':0.02},
{'Publisher':'CyberFront','Games':6,'Sales':0.11},
{'Publisher':'D3Publisher','Games':31,'Sales':4.56},
{'Publisher':'Daedalic','Games':1,'Sales':0.02},
{'Publisher':'Deep Silver','Games':17,'Sales':2.01},
{'Publisher':'Destineer','Games':12,'Sales':0.57},
{'Publisher':'Devolver Digital','Games':1,'Sales':0.02},
{'Publisher':'Disney Interactive Studios','Games':35,'Sales':20.5},
{'Publisher':'Dorart','Games':1,'Sales':0.01},
{'Publisher':'DreamCatcher Interactive','Games':2,'Sales':0.11},
{'Publisher':'DTP Entertainment','Games':7,'Sales':0.41},
{'Publisher':'Electronic Arts','Games':88,'Sales':81.38},
{'Publisher':'Enterbrain','Games':2,'Sales':0.18},
{'Publisher':'Falcom Corporation','Games':3,'Sales':0.36},
{'Publisher':'Flashpoint Games','Games':1,'Sales':0.04},
{'Publisher':'Focus Home Interactive','Games':6,'Sales':0.7},
{'Publisher':'Foreign Media Games','Games':9,'Sales':0.63},
{'Publisher':'From Software','Games':1,'Sales':0.03},
{'Publisher':'Funcom','Games':1,'Sales':0.03},
{'Publisher':'FuRyu','Games':1,'Sales':0.01},
{'Publisher':'G.Rev','Games':1,'Sales':0.03},
{'Publisher':'Game Factory','Games':1,'Sales':0.15},
{'Publisher':'GameMill Entertainment','Games':1,'Sales':0.18},
{'Publisher':'Ghostlight','Games':2,'Sales':0.12},
{'Publisher':'GN Software','Games':1,'Sales':0.01},
{'Publisher':'Graffiti','Games':2,'Sales':0.2},
{'Publisher':'Griffin International','Games':1,'Sales':0.09},
{'Publisher':'GSP','Games':3,'Sales':0.46},
{'Publisher':'Gust','Games':1,'Sales':0.03},
{'Publisher':'Hackberry','Games':1,'Sales':0.01},
{'Publisher':'Home Entertainment Suppliers','Games':2,'Sales':0.06},
{'Publisher':'Hudson Soft','Games':11,'Sales':1.22},
{'Publisher':'Idea Factory','Games':23,'Sales':0.68},
{'Publisher':'Irem Software Engineering','Games':2,'Sales':0.05},
{'Publisher':'JoWood Productions','Games':4,'Sales':0.39},
{'Publisher':'Just Flight','Games':1,'Sales':0.03},
{'Publisher':'Kadokawa Shoten','Games':9,'Sales':0.19},
{'Publisher':'Kalypso Media','Games':5,'Sales':0.31},
{'Publisher':'Kamui','Games':1,'Sales':0.03},
{'Publisher':'Karin Entertainment','Games':1,'Sales':0.02},
{'Publisher':'Konami Digital Entertainment','Games':68,'Sales':18.55},
{'Publisher':'Level 5','Games':3,'Sales':1.94},
{'Publisher':'Little Orbit','Games':2,'Sales':0.15},
{'Publisher':'LucasArts','Games':5,'Sales':4.08},
{'Publisher':'Majesco Entertainment','Games':10,'Sales':0.88},
{'Publisher':'Mamba Games','Games':1,'Sales':0.02},
{'Publisher':'Marvelous Interactive','Games':6,'Sales':0.5},
{'Publisher':'Mastertronic','Games':2,'Sales':0.07},
{'Publisher':'Mastiff','Games':4,'Sales':1.17},
{'Publisher':'Mentor Interactive','Games':1,'Sales':0.07},
{'Publisher':'Microsoft Game Studios','Games':12,'Sales':49.16},
{'Publisher':'Mindscape','Games':5,'Sales':0.57},
{'Publisher':'MTO','Games':1,'Sales':0.02},
{'Publisher':'MTV Games','Games':8,'Sales':6.63},
{'Publisher':'N/A','Games':2,'Sales':0.16},
{'Publisher':'Namco Bandai Games','Games':70,'Sales':16.41},
{'Publisher':'Natsume','Games':3,'Sales':0.69},
{'Publisher':'Neko Entertainment','Games':2,'Sales':0.18},
{'Publisher':'NetRevo','Games':1,'Sales':0.02},
{'Publisher':'Nexon','Games':1,'Sales':0.03},
{'Publisher':'Nintendo','Games':28,'Sales':61.07},
{'Publisher':'Nippon Ichi Software','Games':9,'Sales':1.06},
{'Publisher':'Nobilis','Games':1,'Sales':0.14},
{'Publisher':'Nordcurrent','Games':2,'Sales':0.11},
{'Publisher':'Nordic Games','Games':5,'Sales':0.76},
{'Publisher':'O-Games','Games':12,'Sales':0.79},
{'Publisher':'Paon','Games':1,'Sales':0.02},
{'Publisher':'Paradox Interactive','Games':5,'Sales':0.15},
{'Publisher':'Piacci','Games':1,'Sales':0.01},
{'Publisher':'PlayV','Games':3,'Sales':0.42},
{'Publisher':'PopCap Games','Games':3,'Sales':0.44},
{'Publisher':'PQube','Games':6,'Sales':1.02},
{'Publisher':'Prototype','Games':4,'Sales':0.11},
{'Publisher':'RED Entertainment','Games':1,'Sales':0.02},
{'Publisher':'Reef Entertainment','Games':1,'Sales':0.12},
{'Publisher':'Rising Star Games','Games':6,'Sales':0.99},
{'Publisher':'Rocket Company','Games':2,'Sales':0.15},
{'Publisher':'Rondomedia','Games':2,'Sales':0.04},
{'Publisher':'Russel','Games':3,'Sales':0.05},
{'Publisher':'Scholastic Inc.','Games':3,'Sales':0.58},
{'Publisher':'Sega','Games':39,'Sales':22.89},
{'Publisher':'Slitherine Software','Games':1,'Sales':0.13},
{'Publisher':'SNK Playmore','Games':2,'Sales':0.04},
{'Publisher':'Sony Computer Entertainment','Games':43,'Sales':34.89},
{'Publisher':'SouthPeak Games','Games':7,'Sales':0.58},
{'Publisher':'Spike','Games':4,'Sales':0.63},
{'Publisher':'Square Enix','Games':25,'Sales':17.44},
{'Publisher':'Starfish','Games':1,'Sales':0.02},
{'Publisher':'Sting','Games':1,'Sales':0.03},
{'Publisher':'Storm City Games','Games':13,'Sales':1.11},
{'Publisher':'System Soft','Games':2,'Sales':0.02},
{'Publisher':'Taito','Games':2,'Sales':0.02},
{'Publisher':'Takara Tomy','Games':4,'Sales':0.22},
{'Publisher':'Take-Two Interactive','Games':35,'Sales':35.84},
{'Publisher':'Team17 Software','Games':1,'Sales':0.05},
{'Publisher':'Tecmo Koei','Games':19,'Sales':2.42},
{'Publisher':'Telegames','Games':1,'Sales':0.17},
{'Publisher':'THQ','Games':57,'Sales':22.11},
{'Publisher':'Tomy Corporation','Games':1,'Sales':0.13},
{'Publisher':'Tradewest','Games':3,'Sales':0.11},
{'Publisher':'Ubisoft','Games':72,'Sales':42.62},
{'Publisher':'Ubisoft Annecy','Games':4,'Sales':1.13},
{'Publisher':'UFO Interactive','Games':5,'Sales':0.56},
{'Publisher':'Unknown','Games':18,'Sales':1.8},
{'Publisher':'Valcon Games','Games':1,'Sales':0.01},
{'Publisher':'Virtual Play Games','Games':2,'Sales':0.06},
{'Publisher':'Warner Bros. Interactive Entertainment','Games':33,'Sales':15.57},
{'Publisher':'XS Games','Games':1,'Sales':0.24},
{'Publisher':'Yeti','Games':4,'Sales':0.11},
{'Publisher':'Zoo Games','Games':12,'Sales':1.1}
    ]};

var tooltip3 = d3.select("#scene3")
.append("div")
  .style("opacity", 0)
  .attr("class", "tooltip")
  .style("background-color", "black")
  .style("border-radius", "5px")
  .style("padding", "10px")
  .style("color", "white")

var showTooltip3 = function(d) {
tooltip3
  .transition()
  .duration(200)
tooltip3
  .style("opacity", 1)
  .html("Publisher: " + d.data.Publisher + "<br/>Games: " + d.data.Games + "<br/>Sales (Millions of Copies): " + d.data.Sales)
  .style("left", (d3.mouse(this)[0]) + "px")
  .style("top", (d3.mouse(this)[1]) + "px")
}
var moveTooltip3 = function(d) {
tooltip3
  .style("left", (d3.mouse(this)[0]) + "px")
  .style("top", (d3.mouse(this)[1]) + "px")
}
var hideTooltip3 = function(d) {
tooltip3
  .transition()
  .duration(200)
  .style("opacity", 0)
}


var diameter = 500;
var color = d3.scaleOrdinal(d3.schemeCategory20);

var bubble = d3.pack(dataset)
    .size([diameter, diameter])
    .padding(1.5);

var svg = d3.select("#scene3")
    .append("svg")
    .attr("width", diameter)
    .attr("height", diameter)
    .attr("class", "bubble");

var nodes = d3.hierarchy(dataset)
    .sum(function(d) { return d.Sales; });

var node = svg.selectAll(".node")
    .data(bubble(nodes).descendants())
    .enter()
    .filter(function(d){
        return  !d.children
    })
    .append("g")
    .attr("class", "node")
        .on("mouseover", showTooltip3)
    .on("mousemove", moveTooltip3)
    .on("mouseleave", hideTooltip3)
    .attr("transform", function(d) {
        return "translate(" + d.x + "," + d.y + ")";
    });

node.append("title")
    .text(function(d) {
        return d.Publisher + ": " + d.Sales;
    });

node.append("circle")
    .attr("r", function(d) {
        return d.r;
    })
    .style("fill", function(d,i) {
        return color(i);
    });

node.append("text")
    .attr("dy", ".2em")
    .style("text-anchor", "middle")
    .text(function(d) {
        return d.data.Publisher.substring(0, d.r / 3);
    })
    .attr("font-family", "sans-serif")
    .attr("font-size", function(d){
        return d.r/5;
    })
    .attr("fill", "white");

node.append("text")
    .attr("dy", "1.3em")
    .style("text-anchor", "middle")
    .text(function(d) {
        return d.data.Sales;
    })
    .attr("font-family",  "Gill Sans", "Gill Sans MT")
    .attr("font-size", function(d){
        return d.r/5;
    })
    .attr("fill", "white");

d3.select(self.frameElement)
    .style("height", diameter + "px");
